<form
  [formGroup]="permissionForm"
  #formDirective="ngForm"
  (ngSubmit)="performAction(formDirective)"
  class="page__form"
  *ngIf="!isLoadingForm; else loadingMask"
>
  <div class="page__form-content">
    <div class="page__form-input">
      <div class="form-item">
        <div class="form-item__value form-item__value_is-textfield">
          <app-custom-select
            [formControlItem]="modules"
            label="Modules"
          >
            <ng-select [searchable]="false" formControlName="modules">
              <ng-option
                 *ngFor="let module of appModules"
                [value]="module.options.name"
              >
                {{ module.options.name | titlecase }}</ng-option
              >
            </ng-select>
          </app-custom-select>
        </div>
      </div>
    </div>
    <div class="page__form-input">
      <div class="form-item">
        <div class="form-item__value form-item__value_is-textfield">
          <app-custom-select
            [formControlItem]="permissionType"
            label="Permission Type"
          >
            <ng-select [searchable]="false" formControlName="permissionType">
              <ng-option
               *ngFor="let permissionType of permissionTypes"
                [value]="permissionType"
              >
                {{ permissionType | titlecase }}</ng-option
              >
            </ng-select>
          </app-custom-select>
        </div>
      </div>
    </div>
  </div>
  <div class="page__form-button-container" *ngIf="canEditPermission">
    <div class="page__form__button">
      <button mat-button type="reset" class="button button_is-secondary">
        Reset
      </button>
    </div>
    <div class="page__form__button">
      <button mat-button type="submit" class="button button_is-primary">
        {{ buttonLabel }}
      </button>
    </div>
  </div>
</form>
<ng-template #loadingMask>
  <app-form-loading [size]="2"></app-form-loading>
</ng-template>
