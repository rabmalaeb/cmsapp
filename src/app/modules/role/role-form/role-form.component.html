<form
  [formGroup]="roleForm"
  #formDirective="ngForm"
  (ngSubmit)="performAction(formDirective)"
  class="page__form"
  *ngIf="!isLoadingForm else loadingMask"
>

<app-input-item id="name" name="name" title="Name" [formControlItem]="name" [validationMessages]="validationMessages">
</app-input-item>

  <div class="page__title-container">
    <div class="page__title">
      Set Permissions
    </div>
  </div>
  <div class="page__form-container">
    <div
      class="page__form-item"
      *ngFor="let permissionGroup of permissionGroups"
    >
      <app-permission-group
        [permissionGroup]="permissionGroup"
      ></app-permission-group>
    </div>
  </div>
  <div class="page__form-button-container" *ngIf="canEditRole">
    <div class="page__form__button">
      <button mat-button type="reset" class="button button_is-secondary">
        Reset
      </button>
    </div>
    <div class="page__form__button">
      <button mat-button type="submit" class="button button_is-primary">
        {{ buttonLabel }}
      </button>
    </div>
  </div>
</form>
<ng-template #loadingMask>
  <app-form-loading [size]="1"></app-form-loading>
</ng-template>
